{"version":3,"sources":["../src/04-co.js"],"names":["co","require","fetch","res","json","movie","summary","console","log","run","generator","iterator","it","next","promise","value","then","it2","data","promise2","data2"],"mappings":";;;;;;;;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,QAAQD,QAAQ,YAAR,CAAd;;AAEAD,4CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACmBE,MAAM,yCAAN,CADnB;;AAAA;AACOC,uBADP;AAAA;AAAA,2BAGqBA,IAAIC,IAAJ,EAHrB;;AAAA;AAGOC,yBAHP;AAIOC,2BAJP,GAIiBD,MAAMC,OAJvB;;;AAMCC,4BAAQC,GAAR,CAAY,SAAZ,EAAuBF,OAAvB;;AAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAH;;AASA;;AAEA,SAASG,GAAT,CAAcC,SAAd,EAAyB;AACrB,QAAMC,WAAWD,WAAjB;AACA,QAAME,KAAKD,SAASE,IAAT,EAAX;AACA,QAAMC,UAAUF,GAAGG,KAAnB;AACAR,YAAQC,GAAR,CAAY,KAAZ,EAAmBM,OAAnB;;AAEAA,YAAQE,IAAR,CAAa,gBAAQ;AACjB,YAAMC,MAAMN,SAASE,IAAT,CAAcK,IAAd,CAAZ;AACA,YAAMC,WAAWF,IAAIF,KAArB;;AAEAI,iBAASH,IAAT,CAAc,iBAAS;AACnBL,qBAASE,IAAT,CAAcO,KAAd;AACH,SAFD;AAGH,KAPD;AAQH;;AAEDX,6CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACkBP,MAAM,yCAAN,CADlB;;AAAA;AACMC,uBADN;AAAA;AAAA,2BAEoBA,IAAIC,IAAJ,EAFpB;;AAAA;AAEMC,yBAFN;AAGMC,2BAHN,GAGgBD,MAAMC,OAHtB;;AAIAC,4BAAQC,GAAR,CAAY,MAAZ,EAAoBF,OAApB;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAJ","file":"04-co.js","sourcesContent":["const co = require('co')\nconst fetch = require('node-fetch')\n\nco(function *() {\n    const res = yield fetch('https://api.douban.com/v2/movie/1291843')\n\n    const movie = yield res.json()\n    const summary = movie.summary\n\n    console.log('summary', summary)\n})\n\n// co库原理\n\nfunction run (generator) {\n    const iterator = generator()\n    const it = iterator.next()\n    const promise = it.value\n    console.log('kk:', promise)\n\n    promise.then(data => {\n        const it2 = iterator.next(data)\n        const promise2 = it2.value\n\n        promise2.then(data2 => {\n            iterator.next(data2)\n        })\n    })\n}\n\nrun(function *() {\n    const res = yield fetch('https://api.douban.com/v2/movie/1291843')\n    const movie = yield res.json()\n    const summary = movie.summary\n    console.log('run:', summary)\n})"]}