{"version":3,"sources":["../src/01-cb-promise.js"],"names":["fs","require","readFile","err","data","console","log","JSON","parse","name","readFileAsync","Promise","resolve","reject","then","msg","catch","util","promisify"],"mappings":";;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;;AAEA;AACAD,GAAGE,QAAH,CAAY,iBAAZ,EAA8B,UAACC,GAAD,EAAMC,IAAN,EAAe;AACzC,QAAID,GAAJ,EAAS,OAAOE,QAAQC,GAAR,CAAYH,GAAZ,CAAP;;AAETC,WAAOG,KAAKC,KAAL,CAAWJ,IAAX,CAAP;AACAC,YAAQC,GAAR,CAAYF,KAAKK,IAAjB;AACH,CALD;;AAOA;AACA,SAASC,aAAT,GAA0B;AACtB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCb,WAAGE,QAAH,CAAY,iBAAZ,EAA8B,UAACC,GAAD,EAAMC,IAAN,EAAe;AACzC,gBAAGD,GAAH,EAAQU,OAAOV,GAAP,EAAR,KACKS,QAAQR,IAAR;AACR,SAHD;AAIH,KALM,CAAP;AAMH;;AAEDM,gBAAgBI,IAAhB,CAAqB,gBAAQ;AACzB,QAAIC,MAAMR,KAAKC,KAAL,CAAWJ,IAAX,CAAV;AACAC,YAAQC,GAAR,CAAY,UAAZ,EAAwBS,IAAIN,IAA5B;AACH,CAHD,EAGGO,KAHH,CAGS,eAAO;AACZX,YAAQC,GAAR,CAAYH,GAAZ;AACH,CALD;;AAOA;AACA,IAAMc,OAAOhB,QAAQ,MAAR,CAAb;AACAgB,KAAKC,SAAL,CAAelB,GAAGE,QAAlB,EAA4B,iBAA5B,EACCY,IADD,CACMP,KAAKC,KADX,EAECM,IAFD,CAEM,gBAAQ;AACVT,YAAQC,GAAR,CAAY,OAAZ,EAAqBF,KAAKK,IAA1B;AACH,CAJD,EAIGO,KAJH,CAIS,eAAO;AACZX,YAAQC,GAAR,CAAYH,GAAZ;AACH,CAND","file":"01-cb-promise.js","sourcesContent":["const fs = require('fs')\n\n// 第一种\nfs.readFile('../package.json',(err, data) => {\n    if (err) return console.log(err)\n\n    data = JSON.parse(data)\n    console.log(data.name)\n})\n\n// 第二种\nfunction readFileAsync () {\n    return new Promise((resolve, reject) => {\n        fs.readFile('../package.json',(err, data) => {\n            if(err) reject(err)\n            else resolve(data)\n        })\n    })\n}\n\nreadFileAsync().then(data => {\n    let msg = JSON.parse(data)\n    console.log('promise:', msg.name)\n}).catch(err => {\n    console.log(err)\n})\n\n// 第三种\nconst util = require('util')\nutil.promisify(fs.readFile)('../package.json')\n.then(JSON.parse)\n.then(data => {\n    console.log('util:', data.name)\n}).catch(err => {\n    console.log(err)\n})"]}